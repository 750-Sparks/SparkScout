<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Team Details - SparkScout</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}">
</head>
<body>
    <h1>
        <a href="/" class="header-link">SparkScout - VEX Competitions</a>
    </h1>

    <div class="team-details">
        <h2>{{ team.team_name }} ({{ team.number }})</h2>
        <p><strong>Organization:</strong> {{ team.organization }}</p>
        <p><strong>Grade:</strong> {{ team.grade }}</p>
        <p><strong>Location:</strong> {{ team.location.city }}, {{ team.location.region }}, {{ team.location.country }}</p>

        <h3>Skills Challenge</h3>
        {% if skills and skills.data %}
            {% set programming_skills = skills.data | selectattr("type", "equalto", "programming") | list %}
            {% set driver_skills = skills.data | selectattr("type", "equalto", "driver") | list %}

            <p><strong>Programming Skills:</strong> {{ programming_skills[0].score if programming_skills else "N/A" }}</p>
            <p><strong>Driver Skills:</strong> {{ driver_skills[0].score if driver_skills else "N/A" }}</p>
            <p><strong>Combined Skills:</strong> 
                {% if programming_skills and driver_skills %}
                    {{ programming_skills[0].score + driver_skills[0].score }}
                {% else %}
                    N/A
                {% endif %}
            </p>
        {% else %}
            <p>No skills data available for this team.</p>
        {% endif %}

        <h3>Performance Metrics</h3>
        <p><strong>OPR:</strong> N/A</p>
        <p><strong>DPR:</strong> N/A</p>
        <p><strong>CCWM:</strong> N/A</p>
        <p><strong>WP:</strong> N/A</p>
        <p><strong>AP:</strong> N/A</p>
        <p><strong>SP:</strong> N/A</p>
    </div>
</body>
</html>